<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sepet - NamelesHd</title>
<style>
body { margin:0; font-family:'Arial',sans-serif; background:#0b0c1f; color:#fff; }
nav { display:flex; justify-content:space-between; align-items:center; padding:15px 50px; background:#1a1b33; }
nav a { color:#fff; margin-left:30px; text-decoration:none; font-weight:bold; }
nav a:hover { color:#ff00ff; }

.cart-wrapper { display:flex; flex-wrap:wrap; justify-content:center; padding:50px; gap:30px; }
.cart-left { flex:2; background:#1a1b33; padding:20px; border-radius:20px; min-width:300px; }
.cart-left h3 { color:#00ffff; margin-top:0; border-bottom:1px solid #2b2d55; padding-bottom:10px; }
.cart-item { display:flex; justify-content:space-between; align-items:center; padding:15px; border-bottom:1px solid #2b2d55; transition:0.3s; }
.cart-item:hover { background:#2b2d55; border-radius:10px; }
.cart-item h4 { margin:0; color:#ff00ff; }
.cart-item span { font-weight:bold; }

.cart-right { flex:1; background:#1a1b33; padding:20px; border-radius:20px; min-width:250px; height:max-content; }
.cart-right h3 { color:#00ffff; margin-top:0; border-bottom:1px solid #2b2d55; padding-bottom:10px; }
.cart-right p { margin:15px 0; font-size:16px; }

.btn { display:block; width:100%; padding:15px; font-size:18px; color:#fff; background:#00ffff; border-radius:10px; text-align:center; text-decoration:none; margin-top:20px; cursor:pointer; transition:.3s; border:none; }
.btn:hover { background:#ff00ff; color:#000; }

footer { padding:50px; background:#1a1b33; text-align:center; color:#888; margin-top:50px; }
</style>
</head>
<body>

<nav>
  <div>
    <a href="index.html">Ana Sayfa</a>
    <a href="store.html">Mağaza</a>
    <a href="cart.html">Sepet</a>
  </div>
</nav>

<section class="cart-wrapper">
  <!-- Sol panel: Sepet -->
  <div class="cart-left">
    <h3>Sepet Ürünleri</h3>
    <div id="cartList"></div>
  </div>

  <!-- Sağ panel: Ödeme -->
  <div class="cart-right">
    <h3>Ödeme Bilgisi</h3>
    <p>Toplam: <span id="totalAmount">₺0</span></p>
    <button class="btn" onclick="checkout()">Ödeme Yap</button>
  </div>
</section>

<footer>© 2025 NamelesHd. Tüm hakları saklıdır.</footer>

<script>
// Çerez fonksiyonları
function getCookie(name) {
  let nameEQ = name + "=";
  let ca = document.cookie.split(';');
  for(let i=0;i<ca.length;i++) {
    let c = ca[i];
    while(c.charAt(0)==' ') c=c.substring(1,c.length);
    if(c.indexOf(nameEQ)==0) return c.substring(nameEQ.length,c.length);
  }
  return null;
}
function setCookie(name,value,days){
  let expires="";
  if(days){
    let date=new Date();
    date.setTime(date.getTime()+(days*24*60*60*1000));
    expires="; expires="+date.toUTCString();
  }
  document.cookie=name+"="+(value||"")+expires+"; path=/";
}

// Sepeti göster
function showCart(){
  let cart = JSON.parse(getCookie('cart') || '[]');
  let container = document.getElementById('cartList');
  container.innerHTML='';
  let total=0;
  cart.forEach(item=>{
    let div=document.createElement('div');
    div.className='cart-item';
    div.innerHTML=`<h4>${item.name}</h4><span>₺${item.price}</span>`;
    container.appendChild(div);
    total+=item.price;
  });
  document.getElementById('totalAmount').innerText=`₺${total}`;
  return total;
}

showCart();

// Ödeme işlemi
function checkout(){
  let cart = JSON.parse(getCookie('cart') || '[]');
  if(cart.length==0){ alert("Sepet boş!"); return; }
  let nick = prompt("Nickinizi girin:");
  if(!nick){ alert("Nick girilmeden ödeme yapılamaz."); return; }

  // Mail gönderme için form
  let form = document.createElement('form');
  form.method='POST';
  form.action='mail.php';
  form.innerHTML=`<input type='hidden' name='nick' value='${nick}'>
                  <input type='hidden' name='total' value='${showCart()}'>`;
  document.body.appendChild(form);
  form.submit();

  // Sepeti temizle
  setCookie('cart','',-1);
}
</script>

</body>
</html>
